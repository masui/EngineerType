<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>乗り物コンピューティング</title>
</head>
<body>

今回は乗り物のIoT技術について考えてみたいと思います。


トヨタのソフト開発
http://d.hatena.ne.jp/yomoyomo/20150604/toyota

<div style="width:500pt">

<h1>世界の不便を退治しよう(3) - 乗り物を快適にする技術</h2>

<h2>自動車のセンサやネットワーク</h2>

自動車には昔から沢山のセンサやコンピュータが使われてきています。

どんなに古い車でもスピードメータやガソリン残量計のようなセンサが登載されていますし、
ブレーキやエンジンなどを制御に1980年代からワンチップマイコンが使われてきました。

<p>
最近のベンツ車は
「<a href="http://www.mercedes-benz.co.jp/content/japan/mpc/mpc_japan_website/ja/home_mpc/passengercars/home/new_cars/models/a-class/w176/fascination/safety.html">アテンションアシスト</a>」
という機能を登載しており、
多数のセンサで以下のような情報を取得して居眠り運転のような危険な状況を検出しています。

<ul>
<li> 走行状況の検出(加速度など)
<li> 車線変更の検出
<li> 路面状況の検出
<li> ドライバー交代の検出
<li> ドライビングスタイル(走行速度など)
<li> ステアリング操作の検出
<li> 各種操作の検出(アクセルペダル、ウインカーなど)
<li> 走行条件の検出(時刻、運転時間など)
</ul>

またMINIはAR技術を使って
<a href="https://www.youtube.com/watch?v=QARt89_6Jrs">MINI Augmented Vision</a>
なんてのを提案しているし、

高度な認識技術/AR技術


最近の車は沢山のCPUやセンサのモジュール(ECU: Electronic Control Unit)を接続する
<a href="https://ja.wikipedia.org/wiki/Controller_Area_Network">CAN</a> (Controller Area Network)のような
<a href="https://vector.com/vj_ecu_jp.html#can">車載LAN</a>が使われています。

CANは1986年に仕様が公開され、1994年に国際規格となって普及している車載ネットワーク規格です。
一般的なコンピュータからCAN上を流れる情報にアクセスするための装置も販売されていますが、
信号の詳細は公開されておらず、一般ユーザが利用することはできません。

2線ツイストペアを利用するCANは計算機で広く使われてきたEthernetとは似て非なるものですが、
Ethernet準拠の
<a href="http://www.veedims.com/">VEEDIMS</a>
というネットワークが利用されている高級車もあるようです。

CANは自動車を安全に正しく動かすためのシステムであり、
運転者や同乗者のコミュニケーションを支援するものではありません。

CAN上を流れる各種のデータを読み出す
<a href="http://www.blitz.co.jp/touch-brain/">Touch-B.R.A.I.N</a>
のような装置が販売されていますし、
トヨタが
<a href="http://www.nikkei.com/article/DGXNASFK03012_T00C12A2000000/">CAN上のデータをスマホに送るシステム</a>
を提供していたりしますが、
まだまだ普通のユーザが利用できる状況にはなっていません。
アテンションアシストで利用されているセンサ情報も普通のユーザが利用することはできません。

CAN上のデータを自由に解析することができれば
このような機能はユーザが実装することも可能かもしれませんが、

自動車のセンサ情報を利用すると様々な便利なことがあるという話は昔からありました。
たとえば2001年には
タクシーなどのワイパー情報をインターネットで共有することによって
雨が降っている場所を知るといった
<a href="http://internet.watch.impress.co.jp/www/article/2001/1205/ipv6smt.htm">実験</a>が行なわれたり、
様々なビジネスチャンスが模索されていましたが、現在実用になっているものはほとんどありません。

CANのデータは使えないとしても、
安全性に影響の無いセンサやコミュニケーション手段が登載されていれば
様々な応用が考えられます。

<h2>自転車のセンサやネットワーク</h2>

普通の自転車にセンサはついていませんが、
マニア向けに様々な「サイクルコンピュータ」が販売されています。
サイクルコンピュータは様々なセンサを接続できるコンピュータで、
速度や距離を測定/記録する安価なものから、
ペダル回転数(ケイデンス)や心拍数を測定できるもの、
GPSを登載したものまで様々な種類のものがあります。

<p>
GPSを登載した本格的なものはかなり値段が高くなりますが、
最近はスマホと連携する製品も増えています。
たとえばGiantの
<a href="http://giant.co.jp/giant15/acc_datail.php?p_id=A0000296">CONTINUUM SYNC</a>
は、
<a href="http://k-tai.impress.co.jp/docs/column/keyword/20110322_434325.html">ANT+</a>
(体重計やサイクルコンピュータなどで使われる省電力ネットワーク)
やBLE(Bluetooth Low Energy)を利用してスマホと接続できるようになっており、
安価ながらGPS登載サイクルコンピュータと同等以上の性能を持っています。

<p>
タイヤの回転や心拍数の計測するためには、
ユーザがセンサを車輪に設置したり体に装着したりする必要があります。
自動車の場合と異なり、
センサやコンピュータのために安全性が問題になることは少なく、
ユーザが工夫してセンサを設置したりコンピュータを選んだりできるので
センサやコンピュータがより身近に感じられると思います。


<!--
USBホスト機能のあるAndroid

USBホストケーブル（OTGケーブル）
-->

<h2>乗り物のセンサとIoT</h2>

自動車や自転車で利用されているコンピュータは、
運転やトレーニングにとって有用なのは確かなのですが、

<ul>
<li>独自の規格に基づいており外部機器と連携することが難しい
<li>インターネットに接続されていない
</ul>

という大きな欠点を持っています。

そもそも私は

<ul>
<li>インターネットは人間生活になくてはならないものになっている
<li>インターネットで最も重要な機能は検索とコミュニケーションである
</ul>

と常々考えているのですが、
自動車や自転車は多数のセンサやコンピュータや無線通信機能を登載しているにもかかわらず
<b>コミュニケーション手段を全く持っていない</b>ことはとても勿体ないことだと思います。

<p>
自動車が普通にインターネット上のコミュニケーション手段を持っていれば、
近くの車と通信することによって
有益な情報交換を行なったり
..... たりできるはずです。

たとえば、
前を走る車の目的地を知っていれば、
適切に車線を譲ることが可能かもしれません。

また
道を譲ってもらった場合など、
ハザードランプを点滅したりしなくても
素直に謝意を示すことができるかもしれません。

渋滞や事故などがあったとき、
近くの運転者と情報交換ができれば
気持ちが

救急車が近づいていることがわかっていれば、
早目に対策をとることもできるでしょう。

現在このようなことができていないのは、

<ul>
<li>センサ情報や使い方が公開されていないこと
<li>インターネット上での情報共有手段が存在しないこと
</ul>

が大きいと思われます。


<!--
自動車も自転車も様々なセンサが使えるようになっているのに、
CANやANT+のような独自規格で動いていて、
自由に接続して使えないのが困る。

標準的な記憶装置やネット接続でいろいろできるようになれば
IoT応用が広がるハズなのに
-->

<!--
<h2>乗り物サーバ</h2>

自動車や自転車のような乗り物をインターネットに接続するとき、
サーバとして実装するべきかクライアントとして実装するべきかを考える必要があるでしょう。

現在使われているパソコンやスマホなどのほとんどは
Webサーバに接続可能なクライアントとして利用されていますが、
固定的なものはサーバとして実装する方が便利かもしれません。
たとえば、外部から家にアクセスして状況をモニタしたりエアコンや錠を操作したい場合、
その家はサーバとして実装するのがよさそうです。

外部から自動車の状況を調べたり鍵を操作したい場合は自動車をサーバとして扱うのが良いかもしれませんが、
自動車から外部サービスにアクセスする場合はクライアントとなるのが良いかもしれません。
このように、
自動車や自転車のような移動するオブジェクト(?)は
サーバ的な存在になったりクライアント的な存在になったりすることがあるので、
柔軟な性質をもつことが必要だと思われます。



自動車の位置を知りたい場合も同様でしょう。


乗り物に登載されるコンピュータはサーバとして実装された方が便利かもしれません。

移動することがなく、

外部から自動車の鍵を開けたい場合はサーバとして扱うのが良いかもしれませんし、
自動車の位置を知りたい場合も同様でしょう。

自動車は固有のURLを持ちつつ、クライアントのように使うこともできるというのがよさそうです。

従来のWebではリクエストはクライアント(ブラウザ)からWebサーバに送るものでしたが、
Websocketを使うとサーバとクライアントはほぼ対等に通信できますから
こういう違いはあまり問題にならなくなってきてるといえるでしょう。

というかサーバ的性質とクライアント的性質の両方を持つ必要がありそう

Ustされるよりも、
定点観測カメラのようになっている方が良いから


マシンのセンサの値を知りたい場合は
マシンをサーバにしておく必要がありましたが、

増井の自転車が bicycle.masui.org のようなアドレスになっていればいい

人間が
<a href="http://dl.acm.org/citation.cfm?id=741493">Personal Server</a>
を持ち歩くと便利だという

Intelの[[UIPedia::Roy Want]]が昔[[http://gyazz.com/UIPedia/Roy+Want%3A+The+Personal+Server%3A+Changing+the+Way+We+Think+about+Ubiquitous+Computing Personal Server]]というのを提唱していた
サーバを持ち歩くと面白いという話だと思うが、[[自転車]]ぐらいモビリティがあると面白いことができないか?

クライアントのデータを読み取ることもできる
 サーバにする必要はないような
 いつも動いてる保証がない感じなのは困るか
 * サーバとして実装するかどうか

センサやカメラが走り回るようなもので
サーバが動くと面白いこと
 特定の環境でだけクライアントがつながる
  屋台みたいなもの?
 センサ情報をブロードキャスト
  日本一週中
  コンファレンス巡回中
  *** 目立たない監視カメラ
 jitensha.com/location で位置がわかる

自転車からUstする話をあまり聞かないのは何故だろう?
-->

<h2>自動車に欲しい機能</h2>

自動車も長い歴史があるが不便なことは沢山ある

ガソリンが空かどうか
 多分、大昔の自動車にはセンサがついてなかったのだろう
 センサがついて表示されるのがあたりまえになっている

昔に比べればすごく良くなったが
  後が見えるとかね

音声通知は欲しいことも
  ナビ以外でも欲しい
  ガソリンが少ないとか

MINIは車体の向こう側の景色が見えるとかいう広告を出しているが

小さな問題
  隣と通信できない
    どこがどう渋滞してるかわからない
  バッテリが悪いのか発電器が悪いのかわからない
    自己診断してほしい
  カギを持ち歩かなければならない
  「運転しなければならない」
    寝てても目的地についてほしいものだ
  危険回避があまりできない

命にかかわるのだからセンサがばっちり動いて欲しいものだ

現在どこにいるか - 泥棒対策

インターネット常時接続を売りにしている自動車というのは聞いたことがないのは不思議

<h2>自転車に欲しい機能</h2>


盗難やイタズラの心配があるので
コンピュータや

一方、自転車も同じようなものである

電動自転車のバッテリを使えばいいハズ

USB端子がついた自転車の試作品を見て驚いたことがあるのですが、
今考えてみると、
USB端子を登載していないことの方が不思議に感じられます。
時代を先取りしすぎていたのかもしれません。

自転車
 サイクルコンピュータ
 目立たない中継機になる

<h2>まとめ</h2>

現在沢山のコンピュータやセンサがインターネットに接続されていますが、
家電製品や自動車などはネット接続機能を持っているにもかかわらず統合的に利用されていません。
家電業界/自動車業界/コンピュータ業界/建築業界などはこれまで全く別のものであり、
独自にセンサやネットワークを整備してきました。

昔はそれで問題が無かったかもしれませんが、
IoT時代にはあらゆるセンサや機器を統合的に利用できて欲しいものだと思います。



</div>
</body>
</html>

